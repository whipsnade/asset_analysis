import{_ as h,u as b,c as k,a as t,b as o,w as a,d as z,r as l,e as E,o as U,f as B,g as C,E as _,h as f}from"./index-Bsg0fhHg.js";const N={class:"login-container"},R={class:"login-box"},q={class:"login-header"},A={__name:"index",setup(D){const g=E(),w=b(),p=f(null),n=f(!1),s=C({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},c=async()=>{var e,r;if(await p.value.validate().catch(()=>!1)){n.value=!0;try{await w.login(s.username,s.password),_.success("登录成功"),g.push("/dashboard")}catch(d){_.error(((r=(e=d.response)==null?void 0:e.data)==null?void 0:r.detail)||"登录失败")}finally{n.value=!1}}};return(y,e)=>{const r=l("DataAnalysis"),d=l("el-icon"),m=l("el-input"),i=l("el-form-item"),x=l("el-button"),V=l("el-form");return U(),k("div",N,[t("div",R,[t("div",q,[o(d,{size:"48",color:"#409EFF"},{default:a(()=>[o(r)]),_:1}),e[2]||(e[2]=t("h1",null,"智能采购管理系统",-1))]),o(V,{ref_key:"formRef",ref:p,model:s,rules:v,class:"login-form",onKeyup:z(c,["enter"])},{default:a(()=>[o(i,{prop:"username"},{default:a(()=>[o(m,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=u=>s.username=u),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(i,{prop:"password"},{default:a(()=>[o(m,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=u=>s.password=u),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),o(i,null,{default:a(()=>[o(x,{type:"primary",size:"large",loading:n.value,style:{width:"100%"},onClick:c},{default:a(()=>[...e[3]||(e[3]=[B(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e[4]||(e[4]=t("div",{class:"login-tips"},[t("p",null,"默认账号：admin / admin123")],-1))])])}}},K=h(A,[["__scopeId","data-v-de758fd6"]]);export{K as default};
