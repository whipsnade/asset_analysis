import{_ as w,u as x,p as z,c as A,b as t,w as s,h as F,r as a,o as B,a as o,t as _,f as c,k as y}from"./index-Cvmun6XD.js";import{g as D,a as S}from"./inventory-DyPHjcSv.js";import{g as U}from"./procurement-BCn9Ym0D.js";import{g as $}from"./system-CSfOxEbn.js";const E={class:"dashboard"},I={class:"stat-icon",style:{background:"#409EFF"}},L={class:"stat-info"},N={class:"stat-value"},V={class:"stat-icon",style:{background:"#67C23A"}},T={class:"stat-info"},j={class:"stat-value"},q={class:"stat-icon",style:{background:"#E6A23C"}},M={class:"stat-info"},P={class:"stat-value"},G={class:"stat-icon",style:{background:"#F56C6C"}},H={class:"stat-info"},J={class:"stat-value"},K={class:"quick-actions"},O={__name:"index",setup(Q){const v=x(),l=F({inventoryCount:0,categoryCount:0,taskCount:0,userCount:0});return z(async()=>{try{const[d,e,i]=await Promise.all([D({page:1,page_size:1}),S(),U({page:1,page_size:1})]);if(l.value.inventoryCount=d.total||0,l.value.categoryCount=(e==null?void 0:e.length)||0,l.value.taskCount=(i==null?void 0:i.length)||0,v.isAdmin){const n=await $();l.value.userCount=(n==null?void 0:n.length)||0}}catch(d){console.error("Failed to load stats:",d)}}),(d,e)=>{const i=a("Box"),n=a("el-icon"),r=a("el-card"),u=a("el-col"),C=a("Folder"),f=a("DataAnalysis"),b=a("User"),m=a("el-row"),g=a("el-button"),p=a("el-descriptions-item"),k=a("el-descriptions");return B(),A("div",E,[t(m,{gutter:20},{default:s(()=>[t(u,{span:6},{default:s(()=>[t(r,{shadow:"hover",class:"stat-card"},{default:s(()=>[o("div",I,[t(n,{size:"32"},{default:s(()=>[t(i)]),_:1})]),o("div",L,[o("div",N,_(l.value.inventoryCount),1),e[2]||(e[2]=o("div",{class:"stat-label"},"库存产品数",-1))])]),_:1})]),_:1}),t(u,{span:6},{default:s(()=>[t(r,{shadow:"hover",class:"stat-card"},{default:s(()=>[o("div",V,[t(n,{size:"32"},{default:s(()=>[t(C)]),_:1})]),o("div",T,[o("div",j,_(l.value.categoryCount),1),e[3]||(e[3]=o("div",{class:"stat-label"},"设备分类数",-1))])]),_:1})]),_:1}),t(u,{span:6},{default:s(()=>[t(r,{shadow:"hover",class:"stat-card"},{default:s(()=>[o("div",q,[t(n,{size:"32"},{default:s(()=>[t(f)]),_:1})]),o("div",M,[o("div",P,_(l.value.taskCount),1),e[4]||(e[4]=o("div",{class:"stat-label"},"分析任务数",-1))])]),_:1})]),_:1}),t(u,{span:6},{default:s(()=>[t(r,{shadow:"hover",class:"stat-card"},{default:s(()=>[o("div",G,[t(n,{size:"32"},{default:s(()=>[t(b)]),_:1})]),o("div",H,[o("div",J,_(l.value.userCount),1),e[5]||(e[5]=o("div",{class:"stat-label"},"系统用户数",-1))])]),_:1})]),_:1})]),_:1}),t(m,{gutter:20,style:{"margin-top":"20px"}},{default:s(()=>[t(u,{span:12},{default:s(()=>[t(r,null,{header:s(()=>[...e[6]||(e[6]=[o("span",null,"快捷操作",-1)])]),default:s(()=>[o("div",K,[t(g,{type:"primary",onClick:e[0]||(e[0]=h=>d.$router.push("/inventory"))},{default:s(()=>[t(n,null,{default:s(()=>[t(i)]),_:1}),e[7]||(e[7]=c(" 库存管理 ",-1))]),_:1}),t(g,{type:"success",onClick:e[1]||(e[1]=h=>d.$router.push("/procurement"))},{default:s(()=>[t(n,null,{default:s(()=>[t(f)]),_:1}),e[8]||(e[8]=c(" 采购分析 ",-1))]),_:1})])]),_:1})]),_:1}),t(u,{span:12},{default:s(()=>[t(r,null,{header:s(()=>[...e[9]||(e[9]=[o("span",null,"系统信息",-1)])]),default:s(()=>[t(k,{column:1,border:""},{default:s(()=>[t(p,{label:"系统名称"},{default:s(()=>[...e[10]||(e[10]=[c("智能采购管理系统",-1)])]),_:1}),t(p,{label:"当前用户"},{default:s(()=>[c(_(y(v).nickname),1)]),_:1}),t(p,{label:"角色"},{default:s(()=>[c(_(y(v).roles.join(", ")||"普通用户"),1)]),_:1}),t(p,{label:"AI服务"},{default:s(()=>[...e[11]||(e[11]=[c("DeepSeek",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},Z=w(O,[["__scopeId","data-v-415924f0"]]);export{Z as default};
