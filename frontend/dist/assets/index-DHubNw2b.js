import{_ as V,u as b,c as k,a as u,b as o,w as a,d as z,r,e as E,o as U,f as B,g as C,E as _,h as f}from"./index-CX-IG1AO.js";const N={class:"login-container"},R={class:"login-box"},q={class:"login-header"},A={__name:"index",setup(D){const g=E(),w=b(),c=f(null),l=f(!1),s=C({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},p=async()=>{var e,t;if(await c.value.validate().catch(()=>!1)){l.value=!0;try{await w.login(s.username,s.password),_.success("登录成功"),g.push("/dashboard")}catch(n){_.error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.detail)||"登录失败")}finally{l.value=!1}}};return(y,e)=>{const t=r("DataAnalysis"),n=r("el-icon"),m=r("el-input"),d=r("el-form-item"),h=r("el-button"),x=r("el-form");return U(),k("div",N,[u("div",R,[u("div",q,[o(n,{size:"48",color:"#409EFF"},{default:a(()=>[o(t)]),_:1}),e[2]||(e[2]=u("h1",null,"智能采购管理系统",-1))]),o(x,{ref_key:"formRef",ref:c,model:s,rules:v,class:"login-form",onKeyup:z(p,["enter"])},{default:a(()=>[o(d,{prop:"username"},{default:a(()=>[o(m,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=i=>s.username=i),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(d,{prop:"password"},{default:a(()=>[o(m,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.password=i),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),o(d,null,{default:a(()=>[o(h,{type:"primary",size:"large",loading:l.value,style:{width:"100%"},onClick:p},{default:a(()=>[...e[3]||(e[3]=[B(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},K=V(A,[["__scopeId","data-v-7fc3ad3e"]]);export{K as default};
